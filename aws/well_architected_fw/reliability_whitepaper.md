# 信頼性

## 可用性

|可用性|最大中断時間||アプリケーションの分類|
|---|---|---|
|99%|3日と15時間|バッチ処理、データの抽出、転送、ロードのジョブ|
|99.9%|8時間45分|ナレッジ管理、プロジェクト追跡などの社内ツール|
|99.95%|4時間22分|オンライコマース、POS|
|99.99%|52分|動画配信、ブロードキャストシステム|
|99.999%|5分|ATM処理、通信システム|

- 強い依存関係を持つ可用性を計算
- 冗長化した依存関係を持つ可用性を計算
- 停止時間から推測で可用性を計算
- 可用性のコスト

## 制限

Trusted Advisorで確認する

## 可用性を実現するアプリケーションの設計

- 障害が伝搬しないよう分離された複数のゾーン
  - マルチAZっていうこと
- 冗長化されたコンポーネント
  - 単一障害点の回避
- マイクロサービスアーキテクチャ
  - 小さくてシンプルってこと
  - X-Rayを使ってトレースする
  - 運用が複雑になる
- リカバリ指向コンピューティング(ROC)
  - 障害を検出するメカニズム二焦点を置く
    - 発生したあとに十分にテストされた少数の復旧経路のうち一つを使う

### 分散システムのためのベストプラクティス

- スロットリング
- エクスポネンシャルフォールバックによる再試行
- フェイルファスト
- 冪等トークンの使用
- 動作の継続
- サーキットブレーカー
- バイモーダル動作と静的安定性

## Reference
- [信頼性の柱 AWS Well-Architected フレームワーク](https://d1.awsstatic.com/whitepapers/ja_JP/architecture/AWS-Reliability-Pillar.pdf?sc_icampaign=aware_well_architected_jp_reliability_pillar&sc_ichannel=ha&sc_icontent=awssm-3366&sc_iplace=content&trk=awssm-3366_aware_well_architected_jp_reliability_pillar)